<%= render :partial => 'shared/errors', :locals => {:object => @album} %>

<%= form_for @album do |f| %>
<div class="form_ui"> 
     <div class = 'field'>
      <%= f.label :name %>
       <div class ="clear">
         </div>
      <%= f.text_field :name %>
     </div>

     <div class = 'field'>
      <%= f.label :photo %>
       <div class ="clear">
         </div>
      <%= f.file_field :photo %>
      <div class ="clear">
         </div>


      <%= f.hidden_field :photo_cache %>
       <div class ="clear">
         </div>
      <%= f.text_field :remote_photo_url %>
      <div class ="clear">
         </div>

      <%= image_tag(@album.photo_url) if @album.photo? %>
     </div>

    <div class="field">
     <%= f.label :artist_id %>
      <div class ="clear">
         </div>
     <%= f.select :artist_id, Artist.all.map{|r| [r.name, r.id]} %>
   </div>

    <div class ="clear">
         </div>

   <div class="field">
    Songs</br>
    <% Song.all.each do |song| %>
      <%= check_box_tag 'album[song_ids][]', song.id, @album.songs.include?(song) %>
      <span><%= song.name %></span>
    <% end %>

  </div>

     
     <div class = 'field'>
      <%= f.submit %>
     </div>
 </div>    
     <div class ="clear">
  </div>
<% end %>


